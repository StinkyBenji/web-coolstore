schemaVersion: 2.1.0
metadata:
  name: web-coolstore
# attributes:
#   .che/che-theia-plugins.yaml: |
#     - id: redhat/vscode-openshift-connector
projects:
  - name: web-coolstore
    git:
      remotes:
        origin: 'https://github.com/yangcao77/cloud-native-workshop.git'
      checkoutFrom:
        remote: origin
        revision: 'completed-sample'
components:
  - name: workshop-tools
    container:
      image: quay.io/mcouliba/remote-plugin-workshop-tooling:5.0
      memoryLimit: "4G"
# - name: nodejs
#   container:
#     image: "sleshchenko/nodejs-mongo-sample:latest"
#     endpoints:
#       - exposure: public
#         name: http-server
#         protocol: http
#         targetPort: 3000
#     env:
#       - name: MONGO_HOST
#         value: "localhost"
#       - name: MONGO_PORT
#         value: "27017"
#     mountSources: true
# - name: mongo-db
#   container:
#     image: mongo
#     endpoints:
#       - exposure: none
#         name: mongo
#         protocol: tcp
#         targetPort: 27017
#     volumeMounts:
#     - name: db-storage
#       path: /data/db
# - name: db-storage
#   volume:
#     size: 1Gi
commands:
  - id: start-catalog
    exec:
      component: workshop-tools
      commandLine: cd ${PROJECTS_SOURCE}/catalog-spring-boot && ./deoloy.sh coolstore-project