schemaVersion: 2.1.0
metadata:
  name: web-coolstore
attributes:
  .vscode/extensions.json: |
    {
      "recommendations": [
        "redhat.vscode-openshift-connector"
      ]
    }
projects:
  - name: web-coolstore
    git:
      remotes:
        origin: 'https://github.com/yangcao77/cloud-native-workshop.git'
      checkoutFrom:
        remote: origin
        revision: 'completed-sample'
components:
  - name: kube
    volume:
        size: 1024Mi
commands:
  - id: create-namespace
    exec:
      component: vscode-openshift-connector
      commandLine: oc new-project coolstore-project-${DEVWORKSPACE_ID}
  - id: start-catalog
    exec:
      component: vscode-openshift-connector
      commandLine: cd ${PROJECTS_SOURCE}/web-coolstore/catalog-spring-boot && ./deploy.sh coolstore-project-${DEVWORKSPACE_ID}
  - id: start-inventory
    exec:
      component: vscode-openshift-connector
      commandLine: cd ${PROJECTS_SOURCE}/web-coolstore/inventory-quarkus && ./deploy.sh coolstore-project-${DEVWORKSPACE_ID}
  - id: start-gateway
    exec:
      component: vscode-openshift-connector
      commandLine: cd ${PROJECTS_SOURCE}/web-coolstore/gateway-vertx && ./deploy.sh coolstore-project-${DEVWORKSPACE_ID}
  - id: start-webui
    exec:
      component: vscode-openshift-connector
      commandLine: cd ${PROJECTS_SOURCE}/web-coolstore/web-nodejs && ./deploy.sh coolstore-project-${DEVWORKSPACE_ID}
  - id: deploy-all
    exec:
      component: vscode-openshift-connector
      commandLine: cd ${PROJECTS_SOURCE}/web-coolstore && ./deploy-all.sh coolstore-project-${DEVWORKSPACE_ID}